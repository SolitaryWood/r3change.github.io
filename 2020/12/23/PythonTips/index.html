

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
  <link rel="icon" type="image/png" href="/img/favicon.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="r3change">
  <meta name="keywords" content="">
  <title>Python技巧记录 - 博客</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.5","typing":{"enable":true,"typeSpeed":80,"cursorChar":"_","loop":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"copy_btn":true,"image_zoom":{"enable":true},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":true,"baidu":"5c0e130ed04b8f55fb9ecacc1d607489","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>r3change's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/header.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Python技巧记录">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-12-23 20:50" pubdate>
        2020年12月23日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      45
       分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Python技巧记录</h1>
            
            <div class="markdown-body">
              <h3 id="打印输出函数"><a href="#打印输出函数" class="headerlink" title="打印输出函数"></a>打印输出函数</h3><h4 id="print-函数"><a href="#print-函数" class="headerlink" title="print()函数"></a>print()函数</h4><p>最常用的打印输出的函数，不过打印输出内容都在一行显示，当输出一个很长内容时就会显得不是很美观</p>
<h4 id="pprint-函数"><a href="#pprint-函数" class="headerlink" title="pprint()函数"></a>pprint()函数</h4><p>pprint 的全称是Pretty Printer，更美观的 printer。在打印内容很长的对象时，它能够以一种格式化的形式输出。</p>
<pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>coordinates = [
<span class="hljs-meta">... </span>   &#123;
<span class="hljs-meta">... </span>       <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Location 1&quot;</span>,
<span class="hljs-meta">... </span>       <span class="hljs-string">&quot;gps&quot;</span>: (<span class="hljs-number">29.008966</span>, <span class="hljs-number">111.573724</span>)
<span class="hljs-meta">... </span>   &#125;,
<span class="hljs-meta">... </span>   &#123;
<span class="hljs-meta">... </span>       <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Location 2&quot;</span>,
<span class="hljs-meta">... </span>       <span class="hljs-string">&quot;gps&quot;</span>: (<span class="hljs-number">40.1632626</span>, <span class="hljs-number">44.2935926</span>)
<span class="hljs-meta">... </span>   &#125;,
<span class="hljs-meta">... </span>   &#123;
<span class="hljs-meta">... </span>       <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Location 3&quot;</span>,
<span class="hljs-meta">... </span>       <span class="hljs-string">&quot;gps&quot;</span>: (<span class="hljs-number">29.476705</span>, <span class="hljs-number">121.869339</span>)
<span class="hljs-meta">... </span>   &#125;
<span class="hljs-meta">... </span>]

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pprint
<span class="hljs-meta">&gt;&gt;&gt; </span>pprint.pprint(coordinates)
[&#123;<span class="hljs-string">&#x27;gps&#x27;</span>: (<span class="hljs-number">29.008966</span>, <span class="hljs-number">111.573724</span>), <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Location 1&#x27;</span>&#125;,
 &#123;<span class="hljs-string">&#x27;gps&#x27;</span>: (<span class="hljs-number">40.1632626</span>, <span class="hljs-number">44.2935926</span>), <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Location 2&#x27;</span>&#125;,
 &#123;<span class="hljs-string">&#x27;gps&#x27;</span>: (<span class="hljs-number">29.476705</span>, <span class="hljs-number">121.869339</span>), <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Location 3&#x27;</span>&#125;]</code></pre>

<p>自定义输出格式</p>
<pre><code class="hljs python"><span class="hljs-comment"># 指定缩进和宽度</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>pp = pprint.PrettyPrinter(indent=<span class="hljs-number">4</span>, width=<span class="hljs-number">50</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>pp.pprint(coordinates)
[   &#123;   <span class="hljs-string">&#x27;gps&#x27;</span>: (<span class="hljs-number">29.008966</span>, <span class="hljs-number">111.573724</span>),
        <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Location 1&#x27;</span>&#125;,
    &#123;   <span class="hljs-string">&#x27;gps&#x27;</span>: (<span class="hljs-number">40.1632626</span>, <span class="hljs-number">44.2935926</span>),
        <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Location 2&#x27;</span>&#125;,
    &#123;   <span class="hljs-string">&#x27;gps&#x27;</span>: (<span class="hljs-number">29.476705</span>, <span class="hljs-number">121.869339</span>),
        <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Location 3&#x27;</span>&#125;]</code></pre>

<p>但是pprint还不是很优雅，因为打印自定义的类时，输出的是对象的内存地址相关的一个字符串</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>():</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, age</span>):</span>
        self.age = age

p = Person(<span class="hljs-number">10</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>print(p)
&lt;__main__.Person <span class="hljs-built_in">object</span> at <span class="hljs-number">0x00BCEBD0</span>&gt;
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pprint
<span class="hljs-meta">&gt;&gt;&gt; </span>pprint.pprint(p)
&lt;__main__.Person <span class="hljs-built_in">object</span> at <span class="hljs-number">0x00BCEBD0</span>&gt;</code></pre>

<h4 id="beeprint"><a href="#beeprint" class="headerlink" title="beeprint"></a>beeprint</h4><p>beeprint可以直接打印对象里面的属性值，省去了重写 <code>__str__</code>  方法的麻烦</p>
<pre><code class="hljs python"><span class="hljs-keyword">from</span> beeprint <span class="hljs-keyword">import</span> pp

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>():</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, age</span>):</span>
        self.age = age

p = Person(<span class="hljs-number">10</span>)
<span class="hljs-comment"># ===================================================================</span>
pp(p)
instance(Person):
  age: <span class="hljs-number">10</span></code></pre>

<p>注：print和pprint是python内置的，而 beeprint 需要额外安装。</p>
<h3 id="打印输出彩色字符"><a href="#打印输出彩色字符" class="headerlink" title="打印输出彩色字符"></a>打印输出彩色字符</h3><h4 id="使用转义序列实现不同颜色字符显示"><a href="#使用转义序列实现不同颜色字符显示" class="headerlink" title="使用转义序列实现不同颜色字符显示"></a>使用转义序列实现不同颜色字符显示</h4><p>终端的字符颜色显示是通过转义序列控制的，是文本模式下的系统显示功能，和具体的语言无关。转义序列以ESC开头，即 <code>\033</code>（ESC的ASCII码用十进制表示是27，用八进制表示是033）</p>
<p>显示格式：</p>
<pre><code class="hljs taggerscript"><span class="hljs-symbol">\0</span>33[显示方式;前景色;背景色m要打印输出的文字<span class="hljs-symbol">\0</span>33[0m</code></pre>

<p>注：显示方式、前景色、背景色这三个参数都是可选参数，可以只写其中的某一个。另外由于表示三个参数不同含义的数值都是唯一的没有重复的，所以三个参数的书写先后顺序没有固定要求，系统都能识别，但是，建议按照默认的格式规范书写。</p>
<p>参数可选值：</p>
<pre><code class="hljs tap">显示方式             　 意义
0                    终端默认设置
1                    高亮显示
22　　　　　　　　　　　非高亮显示
4                    使用下划线
24　　　　　　　　　　　去下划线
5                    闪烁
25　　　　　　　　　　　去闪烁
7                    反白显示
27　　　　　　　　　　　非反显
8                    不可见
28　　　　　　　　　　　可见

前景色            背景色           颜色
30               <span class="hljs-number"> 40 </span>             黑色
31               <span class="hljs-number"> 41 </span>             红色
32               <span class="hljs-number"> 42 </span>             绿色
33               <span class="hljs-number"> 43 </span>             黃色
34               <span class="hljs-number"> 44 </span>             蓝色
35               <span class="hljs-number"> 45 </span>             洋红
36               <span class="hljs-number"> 46 </span>             青色
37               <span class="hljs-number"> 47 </span>             白色</code></pre>

<p>例子：</p>
<pre><code class="hljs python">print(<span class="hljs-string">&#x27;\033[31m打印输出红色字符\033[0m&#x27;</span>)
print(<span class="hljs-string">&#x27;\033[44m打印输出蓝色背景的字符\033[0m&#x27;</span>)</code></pre>

<p>注：用这种原生的转义序列输出，在Linux下完全支持，但是在Windows下可能存在兼容问题，比如在 Windows 10下可以正常显示颜色，在 Windows 7下确不支持</p>
<p>注：在Windows上cmd命令窗口不显示颜色并且转义序列乱码的解决办法加上如下代码</p>
<pre><code class="hljs python"><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> init
init(autoreset=<span class="hljs-literal">True</span>)</code></pre>

<h4 id="colorama模块"><a href="#colorama模块" class="headerlink" title="colorama模块"></a>colorama模块</h4><p>colorama是Python专门用来在控制台、命令行输出彩色文字的模块，Python内置模块，可以跨平台使用，内部实现也是采用转义序列来显示颜色的，只不过对Windows平台做了特殊处理，因此完全兼容Linux和Windows各个版本。</p>
<p>模块常量：</p>
<pre><code class="hljs python"><span class="hljs-comment"># Fore指定字体颜色</span>
Fore: BLACK, RED, GREEN, YELLOW, BLUE, MAGENTA, CYAN, WHITE, RESET
<span class="hljs-comment"># Back指定背景色</span>
Back: BLACK, RED, GREEN, YELLOW, BLUE, MAGENTA, CYAN, WHITE, RESET
<span class="hljs-comment"># Style指定字体样式</span>
Style: DIM, NORMAL, BRIGHT, RESET_ALL</code></pre>

<p>使用这些常量来打印彩色字符：</p>
<pre><code class="hljs python"><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> Fore,Back,Style
print(Fore.RED + <span class="hljs-string">&quot;some red text&quot;</span> + Fore.RESET)
print(Back.GREEN + <span class="hljs-string">&quot;and with a green background&quot;</span> + Back.RESET)
print(Style.DIM + <span class="hljs-string">&quot;and in dim text&quot;</span>)
print(Style.RESET_ALL)
print(<span class="hljs-string">&quot;back to normal now!!&quot;</span>)</code></pre>

<p><code>init()</code>方法</p>
<pre><code class="hljs python">init(**kwargs)
init(autoreset = <span class="hljs-literal">True</span>) <span class="hljs-comment"># 自动恢复到默认颜色</span></code></pre>

<p>使用 <code>inti()</code> 方法初始化并设置颜色自动恢复到默认</p>
<pre><code class="hljs python"><span class="hljs-keyword">from</span> colorama <span class="hljs-keyword">import</span> init,Fore,Back,Style
init(autoreset=<span class="hljs-literal">True</span>)
print(Fore.RED + <span class="hljs-string">&#x27;some red text&#x27;</span>)
print(Back.GREEN + <span class="hljs-string">&#x27;and with a green background&#x27;</span>)
print(Style.DIM + <span class="hljs-string">&#x27;and in dim text&#x27;</span>)
<span class="hljs-comment"># 如果未设置autoreset=True，需要使用如下代码重置终端颜色为初始设置</span>
<span class="hljs-comment"># print(Fore.RESET + Back.RESET + Style.RESET_ALL)</span>
print(<span class="hljs-string">&#x27;back to normal now&#x27;</span>)</code></pre>



<h3 id="格式化输出技巧"><a href="#格式化输出技巧" class="headerlink" title="格式化输出技巧"></a>格式化输出技巧</h3><h4 id="用法"><a href="#用法" class="headerlink" title="%用法"></a>%用法</h4><pre><code class="hljs python"><span class="hljs-string">&#x27;%0[n]x&#x27;</span> % i
将十进制数i转换成指定位数n的十六进制数，位数不足左边补<span class="hljs-number">0</span>
i为任意十进制数
%x：表示以十六进制数显示
0n：n指定位数，不足左边补<span class="hljs-number">0</span>

示例：
In [<span class="hljs-number">6</span>]: <span class="hljs-string">&#x27;%x&#x27;</span> % <span class="hljs-number">140</span>
Out[<span class="hljs-number">6</span>]: <span class="hljs-string">&#x27;8c&#x27;</span>

In [<span class="hljs-number">7</span>]: <span class="hljs-string">&#x27;%0x&#x27;</span> % <span class="hljs-number">140</span>
Out[<span class="hljs-number">7</span>]: <span class="hljs-string">&#x27;8c&#x27;</span>

In [<span class="hljs-number">8</span>]: <span class="hljs-string">&#x27;%04x&#x27;</span> % <span class="hljs-number">140</span>
Out[<span class="hljs-number">8</span>]: <span class="hljs-string">&#x27;008c&#x27;</span>

In [<span class="hljs-number">9</span>]: <span class="hljs-string">&#x27;%06x&#x27;</span> % <span class="hljs-number">140</span>
Out[<span class="hljs-number">9</span>]: <span class="hljs-string">&#x27;00008c&#x27;</span>


将十进制数<span class="hljs-number">120</span>转换成十六进制数<span class="hljs-number">78</span>，占<span class="hljs-number">4</span>位长度，不足左边以空格补全
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%*x&#x27;</span> % (<span class="hljs-number">4</span>, <span class="hljs-number">120</span>)
<span class="hljs-string">&#x27;  78&#x27;</span>

以字符串格式显示abcd，占<span class="hljs-number">6</span>位长度，不足右边以空格补全
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;%-*s&#x27;</span> % (<span class="hljs-number">6</span>, <span class="hljs-string">&#x27;abcd&#x27;</span>)
<span class="hljs-string">&#x27;abcd  &#x27;</span></code></pre>

<h4 id="zfill-用法"><a href="#zfill-用法" class="headerlink" title="zfill()用法"></a>zfill()用法</h4><p><code>str.zfill(length)</code>：方法返回指定长度的字符串，原字符串右对齐，前面填充0。</p>
<p>参数length：指定要返回的字符串长度</p>
<pre><code class="hljs python">In [<span class="hljs-number">10</span>]: <span class="hljs-string">&#x27;abc&#x27;</span>.zfill(<span class="hljs-number">10</span>)
Out[<span class="hljs-number">10</span>]: <span class="hljs-string">&#x27;0000000abc&#x27;</span></code></pre>

<h4 id="format-用法"><a href="#format-用法" class="headerlink" title="format()用法"></a>format()用法</h4><p>从 Python2.6 开始，新增了一种格式化字符串的函数 str.format()，它增强了字符串格式化的功能。基本语法是通过 <code>&#123;&#125;</code> 和 <code>:</code> 来代替以前的 <code>%</code></p>
<p>格式化输出用法</p>
<pre><code class="hljs python"><span class="hljs-comment"># 保留小数点后两位</span>
&#x27;&#123;:.2f&#125;&#x27;.format(3.1415926) ==&gt; 3.14

<span class="hljs-comment"># 带符号保留小数点后两位</span>
&#x27;&#123;:+.2f&#125;&#x27;.format(3.1415926) ==&gt; +3.14
&#x27;&#123;:+.2f&#125;&#x27;.format(-1) ==&gt; -1.00

<span class="hljs-comment"># 注：+ 表示在正数前显示 +，负数前显示 -； 空格表示在正数前加空格</span>

<span class="hljs-comment"># 不带小数</span>
&#x27;&#123;:.0f&#125;&#x27;.format(2.71828) ==&gt; 3

<span class="hljs-comment"># 格式化数字，宽度为2，不足左边填充0</span>
&#x27;&#123;:0&gt;2d&#125;&#x27;.format(5) ==&gt; 05

<span class="hljs-comment"># 格式化数字，宽度为4，不足右边填充x</span>
&#x27;&#123;:x&lt;4d&#125;&#x27;.format(5) ==&gt; 5xxx

<span class="hljs-comment"># 格式化数字，中间对齐，宽度为10，不足填充空格</span>
&#x27;&#123;:^10d&#125;&#x27;.format(13) ==&gt; `    13    `

<span class="hljs-comment"># 注：`^ &lt; &gt;` 分别是居中、左对齐、右对齐，后面带宽度，`:` 号后面带填充的字符，只能是一个字符，不指定则默认是用空格填充。</span>

<span class="hljs-comment"># 以逗号分隔的数字格式</span>
&#x27;&#123;:,&#125;&#x27;.format(1000000) ==&gt; 1,000,000

<span class="hljs-comment"># 百分比格式</span>
&#x27;&#123;:.2%&#125;&#x27;.format(0.25) ==&gt; 25.00%

<span class="hljs-comment"># 指数记法</span>
&#x27;&#123;:.2e&#125;&#x27;.format(1000000000) ==&gt; 1.00e+09

<span class="hljs-comment"># 进制转换（b、d、o、x 分别是二进制、十进制、八进制、十六进制）</span>
&#x27;&#123;:b&#125;&#x27;.format(11) ==&gt; 1011
&#x27;&#123;:d&#125;&#x27;.format(11) ==&gt; 11
&#x27;&#123;:o&#125;&#x27;.format(11) ==&gt; 13
&#x27;&#123;:x&#125;&#x27;.format(11) ==&gt; b
&#x27;&#123;:#x&#125;&#x27;.format(11) ==&gt; 0xb
&#x27;&#123;:#X&#125;&#x27;.format(11) ==&gt; 0xB

<span class="hljs-comment"># 要输出大括号 &#123;&#125; ，需要使用大括号来转义大括号</span>
&#x27;&#123;&#123;&#125;&#125;&#x27;.format() ==&gt; &#123;&#125;</code></pre>



<h3 id="退出方式-os-exit-和-sys-exit-的区别"><a href="#退出方式-os-exit-和-sys-exit-的区别" class="headerlink" title="退出方式 os._exit() 和 sys.exit() 的区别"></a>退出方式 <code>os._exit()</code> 和 <code>sys.exit()</code> 的区别</h3><p>python程序有两种退出方式：<code>os._exit()</code>，<code>sys.exit()</code></p>
<p><code>os._exit()</code> 会直接将python程序终止，之后的的所有代码都不会继续执行</p>
<p><code>sys.exit()</code> 会引发一个异常（SystemExit），如果这个异常没有被捕获，那么python解析器将会退出。捕获这个异常可以做一些额外的清理工作，0为正常退出，其他数值（1-127）为不正常，可抛异常事件供捕获。</p>
<p>一般情况使用 <code>sys.exit()</code>，在fork出来的子进程中使用 <code>os._exit()</code>。<code>os._exit()</code> 用于在线程中退出，<code>sys.exit()</code> 用于在主线程中退出</p>
<h3 id="在程序退出时强制运行一段代码"><a href="#在程序退出时强制运行一段代码" class="headerlink" title="在程序退出时强制运行一段代码"></a>在程序退出时强制运行一段代码</h3><h4 id="异常捕获"><a href="#异常捕获" class="headerlink" title="异常捕获"></a>异常捕获</h4><pre><code class="hljs python"><span class="hljs-keyword">try</span>:
    ...
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    print(<span class="hljs-string">&#x27;运行异常：&#x27;</span>, e)
    ...</code></pre>

<h4 id="atexit模块"><a href="#atexit模块" class="headerlink" title="atexit模块"></a>atexit模块</h4><pre><code class="hljs python"><span class="hljs-keyword">import</span> atexit

<span class="hljs-meta">@atexit.register</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clean</span>():</span>
    print(<span class="hljs-string">&#x27;清理环境相关的代码&#x27;</span>)

setup()
test()</code></pre>

<p>无论程序正常结束，还是程序异常报错，<code>clean</code>函数里面的内容总会执行</p>
<p>使用 atextit 注意事项</p>
<ol>
<li>可以注册多个退出函数，会按照注册时间从晚到早依次执行</li>
</ol>
<pre><code class="hljs python"><span class="hljs-keyword">import</span> atexit

<span class="hljs-meta">@atexit.register </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clean_1</span>():</span>
    ...

<span class="hljs-meta">@atexit.register</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clean_2</span>():</span>
    ...
    
<span class="hljs-comment"># 会先运行clean_2()，再运行clean_1()</span></code></pre>

<ol start="2">
<li>如果<code>clean()</code>函数有参数，那么你可以不用装饰器，而是直接调用<code>atexit.register(clean_1, 参数1, 参数2, 参数3=&#39;xxx&#39;)</code></li>
<li>如果程序是被你没有处理过的系统信号杀死的，那么注册的函数无法正常执行。</li>
<li>如果发生了严重的Python内部错误，你注册的函数无法正常执行。</li>
<li>如果你手动调用了<code>os._exit()</code>，你注册的函数无法正常执行。</li>
</ol>
<h3 id="列表操作技巧"><a href="#列表操作技巧" class="headerlink" title="列表操作技巧"></a>列表操作技巧</h3><h4 id="列表翻转"><a href="#列表翻转" class="headerlink" title="列表翻转"></a>列表翻转</h4><pre><code class="hljs python">b = a[i:j:s]
i为起始索引(缺省为<span class="hljs-number">0</span>)
j为结束索引(不包括，缺省为<span class="hljs-built_in">len</span>(a))
s为步进(缺省为<span class="hljs-number">1</span>)
所以a[i:j:<span class="hljs-number">1</span>]相当于a[i:j]

翻转列表 [::-<span class="hljs-number">1</span>]
In [<span class="hljs-number">3</span>]: l = [<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>]
In [<span class="hljs-number">4</span>]: l[::-<span class="hljs-number">1</span>]
Out[<span class="hljs-number">4</span>]: [<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]

当s&lt;<span class="hljs-number">0</span>时:
i缺省时，默认为-<span class="hljs-number">1</span>，
j缺省时，默认为-<span class="hljs-built_in">len</span>(a)-<span class="hljs-number">1</span>，
所以a[::-<span class="hljs-number">1</span>]相当于 a[-<span class="hljs-number">1</span>:-<span class="hljs-built_in">len</span>(a)-<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>]，也就是从最后一个元素到第一个元素复制一遍。</code></pre>

<h4 id="列表中字典类型元素操作技巧"><a href="#列表中字典类型元素操作技巧" class="headerlink" title="列表中字典类型元素操作技巧"></a>列表中字典类型元素操作技巧</h4><h5 id="去重"><a href="#去重" class="headerlink" title="去重"></a>去重</h5><pre><code class="hljs python"><span class="hljs-comment"># 在python3中使用需要先导入</span>
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> reduce
data_list = [&#123;<span class="hljs-string">&quot;a&quot;</span>: <span class="hljs-string">&quot;123&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>: <span class="hljs-string">&quot;321&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;a&quot;</span>: <span class="hljs-string">&quot;123&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>: <span class="hljs-string">&quot;321&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;b&quot;</span>: <span class="hljs-string">&quot;321&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>: <span class="hljs-string">&quot;123&quot;</span>&#125;]
run_function = <span class="hljs-keyword">lambda</span> x, y: x <span class="hljs-keyword">if</span> y <span class="hljs-keyword">in</span> x <span class="hljs-keyword">else</span> x + [y]
data_list = reduce(run_function, [[], ] + data_list)</code></pre>

<h5 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h5><p>以字典元素的某个键值作为排序依据</p>
<h6 id="sort方式"><a href="#sort方式" class="headerlink" title="sort方式"></a>sort方式</h6><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function</span>(<span class="hljs-params">data</span>):</span>
    <span class="hljs-keyword">return</span> data[<span class="hljs-string">&#x27;key&#x27;</span>]
data_list.sort(key=function)</code></pre>

<h6 id="sorted方式"><a href="#sorted方式" class="headerlink" title="sorted方式"></a>sorted方式</h6><pre><code class="hljs python"><span class="hljs-built_in">sorted</span>(data_list, key=<span class="hljs-keyword">lambda</span> keys:keys[<span class="hljs-string">&#x27;key&#x27;</span>])</code></pre>



<h3 id="字符串进制转换"><a href="#字符串进制转换" class="headerlink" title="字符串进制转换"></a>字符串进制转换</h3><pre><code class="hljs python"><span class="hljs-comment"># 将字符串转换成十六进制</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">str_to_hex</span>(<span class="hljs-params">s</span>):</span>
	<span class="hljs-keyword">return</span> <span class="hljs-string">&#x27; &#x27;</span>.join([<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">ord</span>(c)).replace(<span class="hljs-string">&#x27;0x&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s])

<span class="hljs-comment"># 将十六进制转换成字符串</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hex_to_str</span>(<span class="hljs-params">s</span>):</span>
	<span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.join([<span class="hljs-built_in">chr</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-built_in">int</span>(b, <span class="hljs-number">16</span>) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> s.split(<span class="hljs-string">&#x27; &#x27;</span>)]])

<span class="hljs-comment"># 将字符串转换成二进制</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">str_to_bin</span>(<span class="hljs-params">s</span>):</span>
	<span class="hljs-keyword">return</span> <span class="hljs-string">&#x27; &#x27;</span>.join([<span class="hljs-built_in">bin</span>(<span class="hljs-built_in">ord</span>(c)).replace(<span class="hljs-string">&#x27;0b&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s])

<span class="hljs-comment"># 将二进制转换成字符串</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bin_to_str</span>(<span class="hljs-params">s</span>):</span>
	<span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.join([<span class="hljs-built_in">chr</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-built_in">int</span>(b, <span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> s.split(<span class="hljs-string">&#x27; &#x27;</span>)]])</code></pre>




<h3 id="Python中三元表达式的替代"><a href="#Python中三元表达式的替代" class="headerlink" title="Python中三元表达式的替代"></a>Python中三元表达式的替代</h3><p>在 python 中不支持三元表达式（三目运算符），可以使用 <code>v = a if condition else b</code>  来代替</p>
<p>条件 <code>condition</code> 为True，返回a；否则，返回b</p>
<h3 id="浮点数除法-和-整数除法-用法"><a href="#浮点数除法-和-整数除法-用法" class="headerlink" title="/ (浮点数除法) 和 //(整数除法) 用法"></a><code>/</code> (浮点数除法) 和 <code>//</code>(整数除法) 用法</h3><p><code>/</code>：表示进行浮点数除法，返回浮点数结果</p>
<pre><code class="hljs python">In [<span class="hljs-number">7</span>]: print(<span class="hljs-number">3.5</span>/<span class="hljs-number">1.2</span>)
<span class="hljs-number">2.916666666666667</span>

In [<span class="hljs-number">8</span>]: print(<span class="hljs-number">1</span>/<span class="hljs-number">1</span>)
<span class="hljs-number">1.0</span>

In [<span class="hljs-number">9</span>]: print(<span class="hljs-number">5</span>/<span class="hljs-number">2</span>)
<span class="hljs-number">2.5</span></code></pre>

<p><code>//</code>：表示整数除法，返回整数结果（向下取整，取结果的整数部分）</p>
<pre><code class="hljs python">In [<span class="hljs-number">10</span>]: print(<span class="hljs-number">5</span>//<span class="hljs-number">2</span>)
<span class="hljs-number">2</span>

In [<span class="hljs-number">11</span>]: print(<span class="hljs-number">1</span>//<span class="hljs-number">2</span>)
<span class="hljs-number">0</span>

In [<span class="hljs-number">12</span>]: print(<span class="hljs-number">3.5</span>//<span class="hljs-number">1.2</span>)
<span class="hljs-number">2.0</span></code></pre>



<h3 id="无序字典和有序字典"><a href="#无序字典和有序字典" class="headerlink" title="无序字典和有序字典"></a>无序字典和有序字典</h3><h4 id="无序字典（普通字典）"><a href="#无序字典（普通字典）" class="headerlink" title="无序字典（普通字典）"></a>无序字典（普通字典）</h4><pre><code class="hljs python">my_dict = <span class="hljs-built_in">dict</span>()
my_dict[<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;lowman&quot;</span>
my_dict[<span class="hljs-string">&quot;age&quot;</span>] = <span class="hljs-number">26</span>
my_dict[<span class="hljs-string">&quot;girl&quot;</span>] = <span class="hljs-string">&quot;Tailand&quot;</span>
my_dict[<span class="hljs-string">&quot;money&quot;</span>] = <span class="hljs-number">80</span>
my_dict[<span class="hljs-string">&quot;hourse&quot;</span>] = <span class="hljs-literal">None</span>
<span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> my_dict.items():
	print(key, value)
    
<span class="hljs-comment"># ==============================================</span>
<span class="hljs-comment"># 输出</span>
money <span class="hljs-number">80</span>
girl Tailand
age <span class="hljs-number">26</span>
hourse <span class="hljs-literal">None</span>
name lowman</code></pre>

<p>可见，遍历一个普通字典，返回的数据和定义字典时字段顺序是不一致的</p>
<h4 id="有序字典"><a href="#有序字典" class="headerlink" title="有序字典"></a>有序字典</h4><pre><code class="hljs python"><span class="hljs-keyword">import</span> collections

my_order_dict = collections.OrderedDict()
my_order_dict[<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;lowman&quot;</span>
my_order_dict[<span class="hljs-string">&quot;age&quot;</span>] = <span class="hljs-number">45</span>
my_order_dict[<span class="hljs-string">&quot;money&quot;</span>] = <span class="hljs-number">998</span>
my_order_dict[<span class="hljs-string">&quot;hourse&quot;</span>] = <span class="hljs-literal">None</span>

<span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> my_order_dict.items():
	print(key, value)
	
<span class="hljs-comment"># ================================================</span>
<span class="hljs-comment"># 输出</span>
name lowman
age <span class="hljs-number">45</span>
money <span class="hljs-number">998</span>
hourse <span class="hljs-literal">None</span></code></pre>

<p>有序字典可以按字典中元素的插入顺序来输出</p>
<p>注：有序字典的作用只是记住元素插入顺序并按顺序输出。如果在定义有序字典中同时也定义了初始值，后面没有插入元素这一动作，那么遍历有序字典，其输出结果仍然是无序的，因为缺少了有序插入这一条件，所以此时有序字典就失去了作用，所以有序字典一般用于动态添加并需要按添加顺序输出的时候。</p>
<pre><code class="hljs python"><span class="hljs-keyword">import</span> collections

my_order_dict = collections.OrderedDict(name=<span class="hljs-string">&quot;lowman&quot;</span>, age=<span class="hljs-number">45</span>, money=<span class="hljs-number">998</span>, hourse=<span class="hljs-literal">None</span>)
<span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> my_order_dict.items():
	print(key, value)

<span class="hljs-comment"># ================================================</span>
<span class="hljs-comment"># 输出是无序的</span>
hourse <span class="hljs-literal">None</span>
age <span class="hljs-number">45</span>
money <span class="hljs-number">998</span>
name lowman</code></pre>



<h3 id="将中文符号转换成英文符号"><a href="#将中文符号转换成英文符号" class="headerlink" title="将中文符号转换成英文符号"></a>将中文符号转换成英文符号</h3><pre><code class="hljs python">In [<span class="hljs-number">1</span>]: table = &#123;<span class="hljs-built_in">ord</span>(f):<span class="hljs-built_in">ord</span>(t) <span class="hljs-keyword">for</span> f,t <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(<span class="hljs-string">u&#x27;，。！？：&#x27;</span>, <span class="hljs-string">u&#x27;,.!?:&#x27;</span>)&#125;

In [<span class="hljs-number">2</span>]: s = <span class="hljs-string">&#x27;http：//www。baidu.com/？s=1&#x27;</span>

In [<span class="hljs-number">3</span>]: s.translate(table)
Out[<span class="hljs-number">3</span>]: <span class="hljs-string">&#x27;http://www.baidu.com/?s=1&#x27;</span></code></pre>

<p>参考</p>
<pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>www.zhihu.com<span class="hljs-regexp">/question/</span><span class="hljs-number">37720196</span><span class="hljs-regexp">/answer/</span><span class="hljs-number">115870233</span> - 使用python将中文标点转为英文标点</code></pre>


            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Python/">Python</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Python/">Python</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/12/16/202012162324/">
                        <span class="hidden-mobile">BurpSuite扩展插件</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":200})
    NProgress.start()
    document.addEventListener('DOMContentLoaded', function() {
      window.NProgress && window.NProgress.inc();
    })
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5c0e130ed04b8f55fb9ecacc1d607489";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



</body>
</html>
